# File: contextos.yml
# Description: This file will introduce you to the main contexts in GitHub Actions

name: Learn GitHub Actions (Contexts)
run-name: Learn GitHub Actions! (Contexts)
on: push
jobs:
  dump_contexts_to_log:
    runs-on: ubuntu-latest
    steps:
      - name: Dump GitHub context
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: echo "$GITHUB_CONTEXT"
      - name: Dump job context
        env:
          JOB_CONTEXT: ${{ toJson(job) }}
        run: echo "$JOB_CONTEXT"
      - name: Dump steps context
        env:
          STEPS_CONTEXT: ${{ toJson(steps) }}
        run: echo "$STEPS_CONTEXT"
      - name: Dump runner context
        env:
          RUNNER_CONTEXT: ${{ toJson(runner) }}
        run: echo "$RUNNER_CONTEXT"
      - name: Dump strategy context
        env:
          STRATEGY_CONTEXT: ${{ toJson(strategy) }}
        run: echo "$STRATEGY_CONTEXT"
      - name: Dump matrix context
        env:
          MATRIX_CONTEXT: ${{ toJson(matrix) }}
        run: echo "$MATRIX_CONTEXT"
  check-main:
    if: ${{ github.ref == 'refs/heads/main' }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Check out the main branch
        run: echo "You are on the main branch"
  check-pr:
    if: ${{ github.event_name == 'pull_request' }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Check out the pull request
        run: echo "You are on a pull request"
  check-issue:
    if: ${{ github.event_name == 'issues' }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Check out the issue
        run: echo "You are on an issue"
  check-context:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Check out the context
        run: echo "You are on a ${{ github.event_name }}"
      - name: Check out the context
        run: echo "You are on a ${{ github.ref }}"
      - name: Check out the context
        run: echo "You are on a ${{ github.actor }}"
      - name: Check out the context
        run: echo "You are on a ${{ github.repository }}"
      - name: Check out the job context
        run: echo "You are on a ${{ job.status }}"
      - name: Check out the job context
        run: echo "You are on a ${{ job.needs }}"
      - name: Check out the job context
        run: echo "You are on a ${{ job.outputs }}"
      - name: Check out the job context
        run: echo "You are on a ${{ job.services }}"
      - name: Check out the steps context
        run: echo "You are on a ${{ steps }}"
      - name: Check out the steps context
        run: echo "You are on a ${{ steps.check-context.outputs }}"